<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Orane Alumni â€” Stay Connected, Grow Faster</title>
  <meta name="description"
    content="Join the Orane International Alumni Network to get exclusive webinars, career boosts, and discounts.">
  <style>
    :root {
      --brand: #e8640a;
      --ink: #0f172a;
      --muted: #64748b;
      --bg: #f6f7f9;
      --card: #fff;
      --ring: rgba(232, 100, 10, .35);
      --radius: 16px;
    }

    * {
      box-sizing: border-box
    }

    html,
    body {
      height: 100%
    }

    body {
      margin: 0;
      background: var(--bg);
      color: var(--ink);
      font: 16px/1.5 system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial
    }

    img {
      max-width: 100%;
      height: auto;
      display: block
    }

    a {
      color: var(--brand);
      text-decoration: none
    }

    a:hover {
      text-decoration: underline
    }

    /* Shell */
    .wrap {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px clamp(12px, 4vw, 24px)
    }

    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      padding: 8px 0;
      flex-wrap: wrap
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 12px
    }

    .logo img {
      height: 44px;
      width: auto;
      object-fit: contain
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      border: 1px solid #e2e8f0;
      border-radius: 999px;
      padding: 6px 12px;
      background: #fff;
      color: #0f172a
    }

    .badge small {
      color: var(--muted);
      font-weight: 500
    }

    /* Cards */
    .card {
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: 0 2px 10px rgba(15, 23, 42, .06);
      border: 1px solid #eef2f7;
      overflow: hidden
    }

    .card.pad {
      padding: 20px
    }

    /* Hero */
    .hero-shell {
      background:
        radial-gradient(1200px 400px at 10% -10%, rgba(232, 100, 10, .08), transparent 60%),
        radial-gradient(1200px 400px at 110% 10%, rgba(232, 100, 10, .06), transparent 60%);
    }

    .hero {
      display: grid;
      grid-template-columns: 1.15fr 1fr;
      gap: 28px;
      align-items: start;
      margin: 12px 0 20px
    }

    .hero h1 {
      font-size: clamp(28px, 6vw, 48px);
      line-height: 1.05;
      margin: 10px 0 8px
    }

    .hero p {
      color: var(--muted);
      margin: 10px 0 14px
    }

    .tag {
      display: inline-block;
      background: #0f172a;
      color: #fff;
      font-size: 12px;
      border-radius: 999px;
      padding: 6px 10px
    }

    .cta-row {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 8px
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      border: 0;
      border-radius: 12px;
      padding: 12px 16px;
      font-weight: 600;
      cursor: pointer;
      min-height: 44px
    }

    .btn.primary {
      background: var(--brand);
      color: #fff
    }

    .btn.ghost {
      background: transparent;
      color: var(--brand);
      border: 1px solid var(--brand)
    }

    .stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
      margin-top: 16px
    }

    .stat {
      background: #fff;
      border: 1px solid #eef2f7;
      border-radius: 12px;
      padding: 14px;
      text-align: center
    }

    .stat b {
      font-size: 22px
    }

    /* Form */
    .form {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px
    }

    .form .full {
      grid-column: 1/-1
    }

    label {
      display: block;
      font-size: 13px;
      color: #0f172a;
      margin: 0 0 6px 2px
    }

    input,
    select,
    textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      background: #fff;
      color: #0f172a;
      outline: 0;
      min-height: 44px
    }

    input:focus,
    select:focus,
    textarea:focus {
      box-shadow: 0 0 0 4px var(--ring);
      border-color: var(--brand)
    }

    .helper {
      font-size: 12px;
      color: #94a3b8
    }

    .notice {
      font-size: 13px;
      color: #64748b
    }

    /* Trust band */
    .band {
      margin: 16px 0 0;
    }

    .band-wrap {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
    }

    .chip {
      display: flex;
      align-items: center;
      gap: 8px;
      background: #fff;
      border: 1px solid #eef2f7;
      border-radius: 999px;
      padding: 10px 14px;
      font-weight: 600;
      color: #0f172a;
    }

    .chip i {
      font-style: normal;
      background: rgba(232, 100, 10, .1);
      border-radius: 8px;
      padding: 2px 8px;
    }

    /* Alumni Spotlight Carousel - Enhanced */
    .spotlight-container {
      position: relative;
      overflow: hidden;
      border-radius: 14px;
      background: #fff;
      touch-action: pan-y pinch-zoom;
      -webkit-overflow-scrolling: touch;
    }

    .spotlight-strip {
      display: flex;
      transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      gap: 0;
      will-change: transform;
    }

    .sp-card {
      flex: 0 0 auto;
      width: 280px;
      background: #fff;
      border-right: 1px solid #eef2f7;
      position: relative;
      overflow: hidden;
    }

    .sp-card:last-child {
      border-right: none;
    }

    .sp-card img {
      width: 100%;
      height: 320px;
      object-fit: cover;
      display: block;
      transition: transform 0.3s ease;
    }

    .sp-card:hover img {
      transform: scale(1.02);
    }

    .sp-card .sp-meta {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
      color: white;
      padding: 24px 16px 16px;
      font-size: 14px;
      line-height: 1.3;
    }

    .carousel-controls {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.95);
      border: 1px solid #eef2f7;
      border-radius: 50%;
      width: 44px;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 20px;
      color: var(--brand);
      transition: all 0.3s ease;
      z-index: 10;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }

    .carousel-controls:hover {
      background: white;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
      transform: translateY(-50%) scale(1.05);
    }

    .carousel-controls:active {
      transform: translateY(-50%) scale(0.95);
    }

    .carousel-controls:focus {
      outline: 2px solid var(--brand);
      outline-offset: 2px;
    }

    .carousel-prev {
      left: 12px;
    }

    .carousel-next {
      right: 12px;
    }

    .carousel-indicators {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
    }

    .indicator {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: #e2e8f0;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }

    .indicator:hover {
      background: #cbd5e1;
      transform: scale(1.2);
    }

    .indicator.active {
      background: var(--brand);
      transform: scale(1.3);
    }

    .indicator:focus {
      outline: 2px solid var(--brand);
      outline-offset: 2px;
    }

    .carousel-status {
      text-align: center;
      margin-top: 12px;
      font-size: 13px;
      color: var(--muted);
      font-weight: 500;
    }

    /* Responsive carousel */
    @media (max-width: 1024px) {
      .sp-card {
        width: 240px;
      }

      .sp-card img {
        height: 280px;
      }

      .carousel-controls {
        width: 40px;
        height: 40px;
        font-size: 18px;
      }
    }

    @media (max-width: 768px) {
      .sp-card {
        width: 200px;
      }

      .sp-card img {
        height: 240px;
      }

      .carousel-controls {
        width: 36px;
        height: 36px;
        font-size: 16px;
      }

      .carousel-prev {
        left: 8px;
      }

      .carousel-next {
        right: 8px;
      }

      .sp-card .sp-meta {
        padding: 20px 12px 12px;
        font-size: 13px;
      }
    }

    @media (max-width: 520px) {
      .sp-card {
        width: calc(100vw - 80px);
        max-width: 280px;
      }

      .carousel-controls {
        width: 32px;
        height: 32px;
        font-size: 14px;
      }

      .carousel-prev {
        left: 6px;
      }

      .carousel-next {
        right: 6px;
      }

      .indicator {
        width: 8px;
        height: 8px;
      }

      .carousel-indicators {
        gap: 8px;
        margin-top: 16px;
      }
    }

    /* Reduce motion for accessibility */
    @media (prefers-reduced-motion: reduce) {
      .spotlight-strip {
        transition: none;
      }

      .sp-card img {
        transition: none;
      }

      .carousel-controls {
        transition: none;
      }

      .indicator {
        transition: none;
      }
    }

    /* Footer */
    .footer {
      color: #6b7280;
      font-size: 13px;
      margin: 22px 0 8px
    }

    .footer.dark {
      margin: 0;
      padding: 24px;
      background: #0f172a;
      color: #cbd5e1
    }

    .footer.dark a {
      color: #fff;
      text-decoration: underline
    }

    .hero>section,
    .hero>.full-row {
      grid-column: 1/-1;
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .hero {
        grid-template-columns: 1fr;
        gap: 18px
      }

      #signup {
        align-self: start
      }

      .form {
        grid-template-columns: 1fr
      }

      .stats {
        grid-template-columns: repeat(3, 1fr)
      }

      .band-wrap {
        grid-template-columns: repeat(3, 1fr)
      }
    }

    @media (max-width: 780px) {
      .wrap {
        padding: 16px
      }

      .header {
        gap: 10px
      }

      .badge {
        order: 3
      }

      .cta-row .btn {
        flex: 1
      }

      .stats {
        grid-template-columns: 1fr 1fr 1fr
      }

      .band-wrap {
        grid-template-columns: repeat(2, 1fr)
      }
    }

    @media (max-width: 520px) {
      .wrap {
        padding: 14px
      }

      .band-wrap {
        grid-template-columns: 1fr
      }

      .logo img {
        height: 36px
      }

      .btn {
        width: 100%
      }
    }

    @media (prefers-reduced-motion: reduce) {
      html:focus-within {
        scroll-behavior: auto
      }

      * {
        animation: none !important;
        transition: none !important
      }
    }

    /* Collapsible helpers */
    details.disclosure {
      border: 1px dashed #e5e7eb;
      border-radius: 12px;
      padding: 10px 12px
    }

    details.disclosure summary {
      cursor: pointer;
      font-weight: 600;
      list-style: none
    }

    details.disclosure summary::-webkit-details-marker {
      display: none
    }

    /* App links styling */
    .app-links {
      margin-top: 16px;
      display: grid;
      gap: 12px;
      grid-template-columns: 1fr 1fr;
      align-items: center
    }

    .app-links .store img {
      height: 40px;
      width: auto
    }

    .qr {
      width: 80px;
      height: 80px;
      background: #f0f0f0;
      border: 1px solid #ddd;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto;
      font-size: 12px;
      color: #666
    }
  </style>
</head>

<body>
  <div class="hero-shell">
    <div class="wrap">
      <header class="header">
        <div class="logo">
          <img src="logo.png" alt="Orane International logo">
          <strong>Orane Alumni</strong>
        </div>
        <span class="badge"><small>Beauty & Wellness Careers</small> Alumni Network</span>
      </header>

      <!-- HERO + FORM -->
      <section class="hero">
        <!-- LEFT: hero content -->
        <div class="card pad">
          <span class="tag" data-copy="hero.eyebrow">Alumni Network</span>

          <h1 class="alumni-title" data-copy="hero.headline">
            Stay connected. Get opportunities. Keep leveling up.
          </h1>

          <p class="alumni-sub" data-copy="hero.subline">
            Join thousands of Orane grads getting invites to expert webinars, placement leads, and member-only discounts
            on advanced courses.
          </p>

          <div class="cta-row">
            <a class="btn primary" id="join-btn" data-copy="hero.primaryCta.text" data-href="hero.primaryCta.href"
              href="#signup">Join free</a>
            <a class="btn ghost" href="#spotlight-heading">See Success Stories</a>
          </div>

          <div class="stats" data-repeat="stats">
            <article class="stat"><b>2,500+</b>
              <div>Alumni onboard</div>
            </article>
            <article class="stat"><b>94%</b>
              <div>Would recommend</div>
            </article>
            <article class="stat"><b>120+</b>
              <div>Hiring partners</div>
            </article>
          </div>

          <div class="quick-answers" style="margin-top:12px;display:grid;gap:10px">
            <details class="disclosure">
              <summary>Is joining free?</summary>
              <p class="notice">Yes. Alumni membership is free. Opt out anytime.</p>
            </details>
            <details class="disclosure">
              <summary>What updates will I get?</summary>
              <p class="notice">Webinars, placement leads, and member-only course discounts. No spam.</p>
            </details>
            <details class="disclosure">
              <summary>How is my data used?</summary>
              <p class="notice">Only to run the alumni network and contact you about opportunities. <a
                  href="#privacy">See privacy</a>.</p>
            </details>
            <details class="disclosure">
              <summary>Do I get a certificate?</summary>
              <p class="notice">Yes. You may request an Orane alumni certificate after verification.</p>
            </details>
            <details class="disclosure">
              <summary>How soon will someone contact me?</summary>
              <p class="notice">Usually within 24â€“48 hours on WhatsApp or email.</p>
            </details>
            <details class="disclosure">
              <summary>Can I update my profile later?</summary>
              <p class="notice">Yes. Reply on our WhatsApp or email to update your details.</p>
            </details>
          </div>
        </div> <!-- closes .card.pad -->

        <!-- RIGHT: signup form -->
        <div class="card pad" id="signup">
          <h2>Join the alumni network</h2>
          <form id="alumni-form" class="form" novalidate>
            <div><label>First name</label><input name="first_name" autocomplete="given-name" required></div>
            <div><label>Last name</label><input name="last_name" autocomplete="family-name" required></div>
            <div class="full"><label>Email</label><input type="email" name="email" autocomplete="email" required></div>
            <div><label>WhatsApp number</label><input name="whatsapp" placeholder="+91â€¦" autocomplete="tel"></div>
            <div><label>Graduating year</label><input name="graduating_year" placeholder="eg 2025" inputmode="numeric"
                minlength="4" maxlength="4" pattern="^[0-9]{4}$" title="Enter 4 digits, e.g., 2025"></div>
            <div><label>Country</label><input name="country" placeholder="India" autocomplete="country-name"></div>
            <div><label>City</label><input name="city" placeholder="Delhi" autocomplete="address-level2"></div>
            <div class="full"><label>Current profession</label><input name="profession"
                placeholder="Makeup artist, salon owner, trainerâ€¦"></div>

            <div class="full">
              <details class="disclosure">
                <summary>Add social links (optional)</summary>
                <div class="form" style="grid-template-columns:1fr 1fr;gap:10px;margin-top:10px">
                  <div><label>Instagram</label><input name="instagram" placeholder="https://instagram.com/â€¦"></div>
                  <div><label>Facebook</label><input name="facebook" placeholder="https://facebook.com/â€¦"></div>
                  <div><label>LinkedIn</label><input name="linkedin" placeholder="https://linkedin.com/in/â€¦"></div>
                  <div><label>Snapchat</label><input name="snapchat" placeholder="https://snapchat.com/add/â€¦"></div>
                </div>
              </details>
            </div>

            <div class="full">
              <label>Anything else we should know?</label>
              <textarea name="anything_else" placeholder="e.g., preferred roles, portfolio link"></textarea>
            </div>

            <div class="full">
              <label>Profile photo (optional)</label>
              <input type="file" name="photo" accept="image/*" id="photo-input">
              <div class="helper">Max ~5 MB. JPG or PNG.</div>
              <div id="photo-preview" style="margin-top:8px;display:none">
                <img id="preview-img" style="max-width:100px;max-height:100px;border-radius:8px;border:1px solid #ddd">
                <div style="font-size:12px;color:#666;margin-top:4px" id="photo-info"></div>
              </div>
            </div>

            <div class="full">
              <label for="consent" class="helper" style="display:flex;align-items:center;gap:8px;">
                <input id="consent" type="checkbox" required>
                I agree to be contacted about alumni updates, webinars, opportunities and discounts.
              </label>
            </div>
            <div class="full">
              <button class="btn primary" type="submit">Submit</button>
              <span class="notice" id="form-note"></span>
            </div>
          </form>
        </div>
      </section>
    </div>
  </div>

  <div class="wrap">
    <!-- TRUST BAND -->
    <section class="section band">
      <div class="band-wrap">
        <div class="chip"><i>ðŸŽ“</i> Advanced workshops</div>
        <div class="chip"><i>ðŸ’¼</i> Placement leads</div>
        <div class="chip"><i>ðŸ’¬</i> WhatsApp alerts</div>
        <div class="chip"><i>ðŸ”’</i> Privacy-first</div>
      </div>
    </section>

    <!-- ALUMNI SPOTLIGHT -->
    <section class="section card pad" aria-labelledby="spotlight-heading">
      <h2 id="spotlight-heading" style="margin-bottom:16px">Alumni Spotlight</h2>
      <div class="spotlight-container">
        <div class="spotlight-strip" id="alumni-spotlight">
          <!-- Dynamic content will be loaded here -->
        </div>
        <button class="carousel-controls carousel-prev" id="prev-btn" aria-label="Previous">â€¹</button>
        <button class="carousel-controls carousel-next" id="next-btn" aria-label="Next">â€º</button>
      </div>
      <div class="carousel-indicators" id="carousel-indicators"></div>
      <div class="carousel-status" id="carousel-status">Loading alumni stories...</div>
    </section>

    <!-- Privacy -->
    <section id="privacy" class="section card pad">
      <h2>Privacy & communications</h2>
      <p class="notice">
        When you submit this form, we collect your name, email, WhatsApp number, graduating year, country, city, current
        profession and social links. We use this information to run the Orane Alumni Network and to contact you about
        alumni updates, webinars, placement opportunities and member discounts. We do not sell your data. You can
        request deletion by emailing <a href="mailto:support@orane.com">support@orane.com</a>.
      </p>
    </section>
  </div>

  <footer class="footer dark">
    <div class="wrap" style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
      <div>Â© 2025 Orane International</div>
      <nav style="display:flex;gap:14px">
        <a href="#privacy">Privacy Policy</a>
        <a href="#signup">Join the alumni network</a>
      </nav>
    </div>
  </footer>

  <!-- JSON content injector -->
  <script>
    (async function () {
      const getByPath = (obj, path) => path.split('.').reduce((o, k) => (o || {})[k], obj);
      let content = {};
      try {
        const res = await fetch('content.json', { cache: 'no-store' });
        if (res.ok) content = await res.json();
      } catch (e) { }
      document.querySelectorAll('[data-copy]').forEach(el => {
        const key = el.getAttribute('data-copy');
        const val = getByPath(content, key);
        if (typeof val === 'string') el.textContent = val;
      });
      document.querySelectorAll('[data-href]').forEach(el => {
        const key = el.getAttribute('data-href');
        const val = getByPath(content, key);
        if (typeof val === 'string') el.setAttribute('href', val);
      });
      document.querySelectorAll('[data-repeat]').forEach(container => {
        const key = container.getAttribute('data-repeat');
        const arr = getByPath(content, key);
        if (Array.isArray(arr)) {
          container.innerHTML = '';
          arr.forEach(obj => {
            const card = document.createElement('article');
            card.className = 'stat';
            card.innerHTML = `<b>${obj.value ?? ''}</b><div>${obj.label ?? ''}</div>`;
            container.appendChild(card);
          });
        }
      });
    })();
  </script>

  <!-- Existing site logic -->
  <script>
    // Smooth scroll for "Join free"
    document.getElementById('join-btn')?.addEventListener('click', (e) => {
      const target = document.querySelector('#signup');
      if (target) {
        e.preventDefault();
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        setTimeout(() => {
          document.querySelector('#alumni-form input[name="first_name"]')?.focus();
        }, 350);
      }
    });

    // Graduating year: keep only digits and cap at 4
    const gy = document.querySelector('input[name="graduating_year"]');
    if (gy) {
      gy.addEventListener('input', () => {
        gy.value = gy.value.replace(/[^0-9]/g, '').slice(0, 4);
      });
    }

    // Photo preview functionality
    const photoInput = document.getElementById('photo-input');
    const photoPreview = document.getElementById('photo-preview');
    const previewImg = document.getElementById('preview-img');
    const photoInfo = document.getElementById('photo-info');

    if (photoInput) {
      photoInput.addEventListener('change', (e) => {
        const file = e.target.files[0];
        if (file) {
          // Validate file type
          if (!file.type.startsWith('image/')) {
            alert('Please select an image file.');
            photoInput.value = '';
            photoPreview.style.display = 'none';
            return;
          }

          // Validate file size (5MB)
          if (file.size > 5 * 1024 * 1024) {
            alert('Image too large. Please select a file under 5MB.');
            photoInput.value = '';
            photoPreview.style.display = 'none';
            return;
          }

          // Show preview
          const reader = new FileReader();
          reader.onload = (e) => {
            previewImg.src = e.target.result;
            photoInfo.textContent = `${file.name} (${(file.size / 1024 / 1024).toFixed(2)} MB)`;
            photoPreview.style.display = 'block';
          };
          reader.readAsDataURL(file);
        } else {
          photoPreview.style.display = 'none';
        }
      });
    }

    // Form submission (Apps Script; supports photo upload)
    const ENDPOINT = "https://script.google.com/macros/s/AKfycby88hNEmXqnZ5D6T4LDUL96elLWI-MWyJruMXHccmN4q2VP8cRotIkUA0bpBIE6rj3m/exec";
    const form = document.getElementById('alumni-form');
    const note = document.getElementById('form-note');
    const consent = document.getElementById('consent');

    // Helper function to convert file to base64
    function fileToBase64(file) {
      return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.readAsDataURL(file);
        reader.onload = () => resolve(reader.result);
        reader.onerror = error => reject(error);
      });
    }

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      if (!form.checkValidity() || !consent.checked) {
        note.textContent = "Please complete all required fields and consent to communications.";
        form.reportValidity();
        return;
      }

      const submitBtn = form.querySelector('button[type="submit"]');
      submitBtn.disabled = true;
      note.textContent = "Sendingâ€¦";

      try {
        // Get form data
        const formData = new FormData(form);
        const file = formData.get('photo');

        // Check file size
        if (file && file.size > 5 * 1024 * 1024) {
          note.textContent = "Image too large (max 5 MB).";
          submitBtn.disabled = false;
          return;
        }

        // Prepare data for Google Apps Script
        const data = {};
        for (let [key, value] of formData.entries()) {
          if (key !== 'photo') {
            data[key] = value;
          }
        }

        // Handle photo upload if present
        if (file && file.size > 0) {
          note.textContent = "Processing photo...";
          try {
            const base64 = await fileToBase64(file);
            data.photo = base64;
          } catch (error) {
            console.warn('Photo processing failed:', error);
            note.textContent = "Photo processing failed, submitting without photo...";
          }
        }

        // Add user agent for debugging
        data.user_agent = navigator.userAgent;

        note.textContent = "Submitting...";

        // Submit to Google Apps Script
        const response = await fetch(ENDPOINT, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
          },
          body: new URLSearchParams(data)
        });

        const result = await response.json();

        if (result.ok) {
          note.textContent = result.photoSaved ?
            "Success! Registration complete with photo." :
            "Success! Registration complete.";
          note.style.color = "green";

          // Reset form and redirect after delay
          setTimeout(() => {
            form.reset();
            localStorage.setItem("justJoined", "1");
            window.location.href = "directory.html";
          }, 2000);
        } else {
          throw new Error(result.error || 'Submission failed');
        }

      } catch (error) {
        console.error('Submission error:', error);
        note.textContent = `Error: ${error.message}. Please try again.`;
        note.style.color = "red";
        submitBtn.disabled = false;
      }
    });

    // Alumni Spotlight Carousel - Revised for better performance and UX
    class AlumniCarousel {
      constructor() {
        this.container = document.getElementById('alumni-spotlight');
        this.indicators = document.getElementById('carousel-indicators');
        this.status = document.getElementById('carousel-status');
        this.prevBtn = document.getElementById('prev-btn');
        this.nextBtn = document.getElementById('next-btn');
        this.spotlightContainer = document.querySelector('.spotlight-container');

        this.currentIndex = 0;
        this.autoScrollInterval = null;
        this.images = [];
        this.isTransitioning = false;
        this.touchStartX = 0;
        this.touchEndX = 0;
        this.autoScrollDelay = 5000; // 5 seconds between slides
        this.userInteractionTimeout = null;

        this.init();
      }

      async init() {
        await this.loadImages();
        this.setupControls();
        this.setupTouchEvents();
        this.setupVisibilityAPI();
        this.startAutoScroll();
      }

      async loadImages() {
        try {
          const response = await fetch('alumni-images.json');
          const imageList = response.ok ? await response.json() : this.getFallbackImages();

          // Use all images from the list (fallback SVG will handle missing images)
          this.images = imageList.length > 0 ? imageList : this.getFallbackImages();

        } catch (error) {
          console.error('Error loading alumni images:', error);
          this.images = this.getFallbackImages();
        }

        this.renderCarousel();
      }

      getFallbackImages() {
        return [
          { file: 'samiksha.png', name: 'Samiksha', role: 'Makeup Artist' },
          { file: 'narinder-singh.png', name: 'Narinder Singh', role: 'Salon Owner' },
          { file: 'vasvi-kapoor.png', name: 'Vasvi Kapoor', role: 'Hair Stylist' }
        ];
      }

      renderCarousel() {
        if (this.images.length === 0) {
          this.status.textContent = 'No alumni stories available';
          return;
        }

        // Create carousel items with improved fallback
        this.container.innerHTML = this.images.map((img, index) => `
          <article class="sp-card" data-index="${index}">
            <img src="images/${img.file}" 
                 alt="${img.name} - ${img.role}" 
                 loading="${index < 3 ? 'eager' : 'lazy'}"
                 onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
            <div style="display:none; width:100%; height:320px; background:#f3f4f6; align-items:center; justify-content:center; flex-direction:column; color:#9ca3af; font-size:14px;">
              <div style="width:60px; height:60px; background:#d1d5db; border-radius:50%; margin-bottom:12px; display:flex; align-items:center; justify-content:center; font-size:24px;">ðŸ‘¤</div>
              <div>Alumni Photo</div>
            </div>
            <div class="sp-meta">
              <div style="font-weight: 600; margin-bottom: 2px;">${img.name}</div>
              <div style="opacity: 0.9; font-size: 13px;">${img.role}</div>
            </div>
          </article>
        `).join('');

        // Create indicators with better accessibility
        this.indicators.innerHTML = this.images.map((img, index) =>
          `<button class="indicator ${index === 0 ? 'active' : ''}" 
                   data-index="${index}" 
                   aria-label="View ${img.name}'s story"
                   title="${img.name} - ${img.role}"></button>`
        ).join('');

        // Update status
        this.status.textContent = `${this.images.length} success ${this.images.length === 1 ? 'story' : 'stories'}`;

        // Set initial position
        this.updateCarousel();
      }

      setupControls() {
        // Previous button
        this.prevBtn?.addEventListener('click', () => {
          if (this.isTransitioning) return;
          this.handleUserInteraction();
          this.goToPrevious();
        });

        // Next button  
        this.nextBtn?.addEventListener('click', () => {
          if (this.isTransitioning) return;
          this.handleUserInteraction();
          this.goToNext();
        });

        // Indicator clicks
        this.indicators?.addEventListener('click', (e) => {
          if (e.target.classList.contains('indicator') && !this.isTransitioning) {
            this.handleUserInteraction();
            const targetIndex = parseInt(e.target.dataset.index);
            if (targetIndex !== this.currentIndex) {
              this.currentIndex = targetIndex;
              this.updateCarousel();
            }
          }
        });

        // Keyboard navigation
        this.spotlightContainer?.addEventListener('keydown', (e) => {
          if (this.isTransitioning) return;

          if (e.key === 'ArrowLeft') {
            e.preventDefault();
            this.handleUserInteraction();
            this.goToPrevious();
          } else if (e.key === 'ArrowRight') {
            e.preventDefault();
            this.handleUserInteraction();
            this.goToNext();
          }
        });

        // Pause on hover/focus
        this.spotlightContainer?.addEventListener('mouseenter', () => this.pauseAutoScroll());
        this.spotlightContainer?.addEventListener('mouseleave', () => this.resumeAutoScroll());
        this.spotlightContainer?.addEventListener('focusin', () => this.pauseAutoScroll());
        this.spotlightContainer?.addEventListener('focusout', () => this.resumeAutoScroll());
      }

      setupTouchEvents() {
        if (!this.spotlightContainer) return;

        this.spotlightContainer.addEventListener('touchstart', (e) => {
          this.touchStartX = e.changedTouches[0].screenX;
          this.pauseAutoScroll();
        }, { passive: true });

        this.spotlightContainer.addEventListener('touchend', (e) => {
          if (this.isTransitioning) return;

          this.touchEndX = e.changedTouches[0].screenX;
          const diff = this.touchStartX - this.touchEndX;
          const threshold = 50; // Minimum swipe distance

          if (Math.abs(diff) > threshold) {
            this.handleUserInteraction();
            if (diff > 0) {
              this.goToNext(); // Swipe left = next
            } else {
              this.goToPrevious(); // Swipe right = previous
            }
          } else {
            this.resumeAutoScroll();
          }
        }, { passive: true });
      }

      setupVisibilityAPI() {
        // Pause carousel when page is not visible
        document.addEventListener('visibilitychange', () => {
          if (document.hidden) {
            this.pauseAutoScroll();
          } else {
            this.resumeAutoScroll();
          }
        });
      }

      handleUserInteraction() {
        this.pauseAutoScroll();

        // Clear existing timeout
        if (this.userInteractionTimeout) {
          clearTimeout(this.userInteractionTimeout);
        }

        // Resume auto-scroll after 8 seconds of no interaction
        this.userInteractionTimeout = setTimeout(() => {
          this.resumeAutoScroll();
        }, 8000);
      }

      goToNext() {
        if (this.images.length <= 1) return;
        this.currentIndex = (this.currentIndex + 1) % this.images.length;
        this.updateCarousel();
      }

      goToPrevious() {
        if (this.images.length <= 1) return;
        this.currentIndex = (this.currentIndex - 1 + this.images.length) % this.images.length;
        this.updateCarousel();
      }

      updateCarousel() {
        if (this.images.length === 0) return;

        this.isTransitioning = true;

        // Get responsive card width
        const cardWidth = this.getCardWidth();
        const offset = -(this.currentIndex * cardWidth);

        // Apply transform with smooth transition
        this.container.style.transform = `translateX(${offset}px)`;

        // Update indicators
        document.querySelectorAll('.indicator').forEach((indicator, index) => {
          indicator.classList.toggle('active', index === this.currentIndex);
          indicator.setAttribute('aria-pressed', index === this.currentIndex);
        });

        // Update button states
        if (this.prevBtn && this.nextBtn) {
          this.prevBtn.style.opacity = this.images.length > 1 ? '1' : '0.5';
          this.nextBtn.style.opacity = this.images.length > 1 ? '1' : '0.5';
        }

        // Reset transition flag after animation
        setTimeout(() => {
          this.isTransitioning = false;
        }, 500);
      }

      getCardWidth() {
        // Get actual card width based on current viewport
        const card = this.container.querySelector('.sp-card');
        if (card) {
          return card.offsetWidth;
        }

        // Fallback responsive widths
        if (window.innerWidth <= 520) return Math.min(window.innerWidth - 80, 280);
        if (window.innerWidth <= 768) return 200;
        if (window.innerWidth <= 1024) return 240;
        return 280;
      }

      startAutoScroll() {
        this.stopAutoScroll();
        if (this.images.length > 1 && !document.hidden) {
          this.autoScrollInterval = setInterval(() => {
            this.goToNext();
          }, this.autoScrollDelay);
        }
      }

      stopAutoScroll() {
        if (this.autoScrollInterval) {
          clearInterval(this.autoScrollInterval);
          this.autoScrollInterval = null;
        }
      }

      pauseAutoScroll() {
        this.stopAutoScroll();
      }

      resumeAutoScroll() {
        // Only resume if no user interaction timeout is active
        if (!this.userInteractionTimeout) {
          this.startAutoScroll();
        }
      }

      // Handle window resize
      handleResize() {
        if (this.resizeTimeout) {
          clearTimeout(this.resizeTimeout);
        }

        this.resizeTimeout = setTimeout(() => {
          this.updateCarousel();
        }, 250);
      }
    }

    // Initialize carousel when DOM is loaded
    let alumniCarousel;
    document.addEventListener('DOMContentLoaded', () => {
      alumniCarousel = new AlumniCarousel();

      // Handle window resize
      let resizeTimeout;
      window.addEventListener('resize', () => {
        if (resizeTimeout) clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
          if (alumniCarousel) {
            alumniCarousel.handleResize();
          }
        }, 250);
      });
    });
  </script>
</body>

</html>